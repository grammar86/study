<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TIMS">
    <meta name="author" content="TIMS">
    <!-- 2024-08-07 수정 및 추가-->
    <title>Risk Management 포털</title>
    <link rel="shortcut icon" href="./img/favicon.png">
    <!-- //2024-08-07 수정 및 추가-->

    <script src="../../js/jquery-1.11.1.min.js" type="text/javascript"></script>
    <link href="../../css/jquery-clockpicker.min.css" rel="stylesheet">
    <script src="../../js/jquery-clockpicker.min.js"></script>
    <link href="../../css/fontawesome/fontawesome.css" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="../../css/common.css">
    <link rel="stylesheet" type="text/css" href="../../css/default.css">
    <link rel="stylesheet" type="text/css" href="../../css/darkMode.css">
    <link rel="stylesheet" type="text/css" href="../../css/jquery.jqChart.css">
    <link rel="stylesheet" type="text/css" href="../../css/tims.css">
    
    <script src="../../js/jquery.jqChart.min.js" type="text/javascript"></script>
    
    <script src="../../js/modernizr.custom.js"></script>
    <script src="../../js/jquery-ui.js"></script>
    <script src="../../js/moment.js"></script>
    <script src="../../js/popper.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>

    <!-- datepicker -->
    <link href="../../css/bootstrap-datepicker3.css" rel="stylesheet" type="text/css">
    <script src="../../js/bootstrap-datepicker.js"></script>
    
    <link href="../../css/daterangepicker.css" rel="stylesheet" type="text/css">
    <script src="../../js/daterangepicker.js"></script>
    <script src="../../js/bootstrap-datepicker.ko.js"></script>
    
    <link href="../../css/bootstrap-timepicker.min.css" rel="stylesheet">
    <script src="../../js/bootstrap-timepicker.min.js"></script>
    
    <link type="text/css" href="../../css/toastr.css" rel="stylesheet">
    <script src="../../js/toastr.min.js"></script>

    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="../../js/jquery.slimscroll.js"></script>
    <script src="../../js/jquery.cookie.js"></script>
    <script src="../../js/jquery.form.js"></script>
    <!--Wave Effects -->
    <script src="../../js/waves.js"></script>
    
    <!-- 2024-08 swiper -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="../../css/swiper.css"/>

    <!-- 공통 스크립트 -->
    <script src="../../js/common.js"></script>
    <script src="../../js/excel.js"></script>
    <script src="../../js/utils.js"></script>
    <script src="../../js/detail.js"></script>

    <!-- 대시보드 차트  -->
    <link rel="stylesheet" href="./dist/gridstack.min.css">
    <link rel="stylesheet" href="./dist/dashboard.css">
    <script src="./dist/gridstack-all.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" integrity="sha512-ElRFoEQdI5Ht6kZvyzXhYG9NqjtkmlkfYk0wr6wHxU9JEHakS7UJZNeml5ALk+8IKlU6jDgMabC3vkumRokgJA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>
</head>
<body class="redefinition">
    <div class="header">
        <div class="inner">
            <div class="info">
                <p>대시보드 권한</p>
                <select class="form-control">
                    <option value="1">슈퍼관리자</option>
                </select>
            </div>
            <div class="btn-group">
                <button class="button line">취소</button>
                <button class="button">저장</button>
            </div>
        </div>
        <div class="info-text">
            현재 <strong>슈퍼관리자</strong>에게 보이는 대시보드를 편집중입니다.
        </div>
    </div>

    <div class="container">
        <div class="left">
            <div class="sticky">
                <div class="tit">위젯 모듈</div>
                <div class="search-box">
                    <input type="text" placeholder="위젯 검색" />
                    <button>검색</button>
                </div>
            </div>
            <div class="list">
                <div class="sub-tit">나의정보</div>
                <a href="#myinfo1" class="widget" data-items="{w: 1, h:1}" data-target="./dashboard-item.html"><i></i>나의정보(small)</a>
                <a href="#myinfo2" class="widget" data-items="{w: 1, h:2}" data-target="./dashboard-item.html"><i></i>나의정보(large)</a>
            </div>
            <div class="list">
                <div class="sub-tit">바로가기</div>
                <a href="#dashboardLink" class="widget" data-items="{w: 1, h:1}" data-target="./dashboard-item.html"><i></i>바로가기</a>
            </div>
            <div class="list">
                <div class="sub-tit">기본</div>
                <a href="#dashboardType1" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>나의 정기 업무활동</a>
                <a href="#dashboardType2" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>나의 업무 일정</a>
                <a href="#dashboardType3" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>나의 결재 업무 현황</a>
                <a href="#dashboardType4" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>공유 자료실</a>
                <a href="#dashboardType5" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>공지사항</a>
                <a href="#dashboardType6" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>정기보안 업무 처리 현황</a>
                <a href="#dashboardType7" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>정기 업무활동 부서별 업무 현황</a>
                <a href="#dashboardType8" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>정기보안 업무 현황</a>
                <a href="#dashboardType9" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>보안평가 부서별 업무 현황</a>
                <a href="#dashboardType10" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>보안평가 업무 현황</a>
                <a href="#dashboardType11" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>보안평가 부서별 업무 현황</a>
                <a href="#dashboardType12" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>보안 예외처리</a>
                <a href="#dashboardType30" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>신규 자산목록</a>
                <a href="#dashboardType13" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>자산 보유 현황</a>
                <a href="#dashboardType14" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>자산 분류 보안 현황</a>
                <a href="#dashboardType15" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>EoS 대상 자산</a>
                <a href="#dashboardType16" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>EoS 대상 자산 현황</a>
                <a href="#dashboardType17" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>기술적 취약점 종합</a>
                <a href="#dashboardType18" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>취약점 발생 상위 항목</a>
                <a href="#dashboardType19" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>자산별 취약점 현황</a>
                <a href="#dashboardType20" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>자산별 취약점 현황2</a>
                <a href="#dashboardType21" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>계정 등록 현황</a>
                <a href="#dashboardType22" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>서버 계정 현황</a>
                <a href="#dashboardType23" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>분류별 보안 현황</a>
                <a href="#dashboardType24" class="widget" data-items="{w: 3, h:4}" data-target="./dashboard-item.html"><i></i>분류별 보안 현황2</a>
                <a href="#dashboardType25" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>중요도별 정보자산 현황</a>
                <a href="#dashboardType26" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>위험도별 보안 준수 현황</a>
                <a href="#dashboardType27" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>전체 이벤트 알람 현황</a>
                <a href="#dashboardType28" class="widget" data-items="{w: 2, h:4}" data-target="./dashboard-item.html"><i></i>ISMS 인증 영역별 보안수준</a>
                <a href="#dashboardType29" class="widget" data-items="{w: 3, h:4}" data-target="./dashboard-item.html"><i></i>ISMS 인증 영역별 보안수준</a>
            </div>
        </div>
        <div class="right">
            <div class="dashboard-wrap grid-stack"></div>
        </div>
    </div>


    <!-- 팝업 부분 -->
    <script>
        $(function(){
            $(document).on('click','.dashboard-wrap .btn-setting',function(){
                const href = $(this).attr('href');
                if(href !== '#'){
                    $(href).modal();
                }
                return false;
            });
        });
    </script>
    <div class="modal fade" id="dashboardModal1">
        <div class="modal-dialog modal-xs">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h6 class="modal-title">바로가기 설정</h6>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <!-- Modal body -->
                <div class="modal-body">
                    <table class="table">
                        <tbody>
                            <tr>
                                <th>바로가기 이름</th>
                                <td>
                                    <input type="text" class="form-control" placeholder="ex. 자주 묻는 질문">
                                </td>
                            </tr>
                            <tr>
                                <th>연결할 주소(URL)</th>
                                <td>
                                    <input type="text" class="form-control" placeholder="ex. http://example.com/help">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- Modal footer -->
                <div class="modal-footer type2">
                    <div class="right">
                        <button type="button" class="btn btn-sm">취소</button>
                        <button type="button" class="btn btn-sm btn-info">저장</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <!-- //팝업 부분 -->

    <!-- gridstack 영역 -->
    <script type="text/javascript">

        GridStack.renderCB = function(el, w) {
            el.innerHTML = w.content;
        };
        
        let opts = {
            cellHeight: '100', // see other possible values (best to do in here)
            disableResize:true,
            margin:4
        }

        let grid = GridStack.init(opts).column(6);

        /* 바로가기 갯수 파악 */
        let linkCount = 0;
        let linkCountGroup = [];
        /* //바로가기 갯수 파악 */

        $(document).on('click','.redefinition .widget',function(){
            const $this = $(this);
            const items = $this.data('items');
            const jsonString = items.replace(/(\w+):/g, '"$1":').replace(/'/g, '"');
            const data = JSON.parse(jsonString);
            const target = $this.data('target');
            let html = '';
            
            $.get(target,function(d){
                const content = $(d).find($this.attr('href')).html();
                const className = $(d).find($this.attr('href')).attr('class')
                html = '<div class="' + className + '">' + content + '</div>';
                
                data.id = $this.attr('href').replace('#','');
                data.content = html;

                $(d).find($this.attr('href')).find('script').each(function() {
                    eval(this.innerHTML);
                });
                    
                if($this.attr('href') === '#dashboardLink'){
                    linkCount++;
                    linkCountGroup.push($this.attr('href').replace('#','') + linkCount);
                    data.id = $this.attr('href').replace('#','') + linkCount;
                    grid.addWidget(data);
                    $this.attr('data-count',linkCountGroup.length).addClass('count');
                } else {
                    if($this.hasClass('on')) {
                        $this.removeClass('on');
                        grid.removeWidget($('[gs-id=' + data.id + ']')[0])
                    } else {
                        $this.addClass('on');
                        grid.addWidget(data);
                    }
                }
            });
            return false;
        });

        $(document).on('click','.redefinition .grid-stack .btn-delete',function(){
            const target = $(this).closest('.grid-stack-item').attr('gs-id');
            $('.redefinition .widget[href=#' + target + ']').removeClass('on');
            grid.removeWidget($(this).closest('.grid-stack-item')[0]);

            if(target.indexOf('dashboardLink') == 0){
                linkCountGroup.pop(target);
                $('.redefinition .widget.count').attr('data-count',linkCountGroup.length);
                if(linkCountGroup.length == 0){
                    $('.redefinition .widget.count').removeClass('count');
                }
            }

            return false;
        });

    </script>
    <!-- //gridstack 영역 -->

    <!-- 차트 플러그인 불러오기 -->
    <script>
        const pieChart1 = function(){
            // 차트 데이터 준비
            const data = {
                labels: [
                    '업무예정',
                    '진행중', 
                    '검토요청',
                    '검토완료',
                    '반려'
                ],
                datasets: [{
                    label: '부서별 인원',
                    data: [35, 25, 20, 15, 5],
                    backgroundColor: [
                        '#FF6384',
                        '#36A2EB',
                        '#FFCE56',
                        '#4BC0C0',
                        '#9966FF'
                    ],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            };

            // 차트 설정
            const config = {
                type: 'pie',
                data: data,
                plugins: [ChartDataLabels],
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            align: 'end',
                            labels: {
                                padding: 10,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                        datalabels: {
                            display: true,
                            color: 'white',
                            font: {
                                size: 14
                            },
                        }
                    },
                    animation: {
                        animateRotate: true,
                        duration: 1000
                    },
                }
            };

            // 차트 생성
            let chart;

            function createChart() {
                const ctx = document.getElementById('pieChart');
                if (ctx) {
                    chart = new Chart(ctx, config);
                    console.log('차트가 생성되었습니다.');
                } else {
                    console.error('Canvas 요소를 찾을 수 없습니다.');
                }
            }

            createChart();

            // DOM이 로드된 후 차트 생성
            document.addEventListener('DOMContentLoaded', function() {
                console.log('DOM 로드 완료');
                
                // Chart.js가 로드되었는지 확인
                if (typeof Chart !== 'undefined') {
                    console.log('Chart.js 로드됨, 버전:', Chart.version);
                    createChart();
                } else {
                    console.error('Chart.js가 로드되지 않았습니다.');
                    
                    // 몇 초 후 다시 시도
                    setTimeout(() => {
                        if (typeof Chart !== 'undefined') {
                            console.log('Chart.js 지연 로드됨');
                            createChart();
                        } else {
                            document.querySelector('.chart-container').innerHTML = 
                                '<p style="text-align:center; color:red;">Chart.js 로드에 실패했습니다. 페이지를 새로고침해주세요.</p>';
                        }
                    }, 2000);
                }
            });

            // 윈도우 로드 이벤트에서도 시도
            window.addEventListener('load', function() {
                if (typeof Chart !== 'undefined' && !chart) {
                    console.log('윈도우 로드에서 차트 생성 시도');
                    createChart();
                }
            });
        }

        const donutChart1 = function(){
            // 차트 데이터
            const data = {
                labels: ['Server', 'Network', 'DBMS', 'Security', 'WEB/WAS'],
                datasets: [{
                    data: [30, 25, 20, 15, 10],
                    backgroundColor: [
                        '#36CFC9',
                        '#BAE637',
                        '#9254DE',
                        '#F759AB',
                        '#FFC53D'
                    ],
                    borderWidth: 2,
                    hoverOffset: 10
                }]
            };

            // 차트 설정
            const config = {
                type: 'doughnut',
                data: data,
                plugins: [ChartDataLabels],
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%', // 도넛 구멍 크기
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                        datalabels: {
                            display: true,
                            color: 'white',
                            font: {
                                size: 14
                            },
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 1500,
                        easing: 'easeInOutQuart'
                    },
                    hover: {
                        animationDuration: 300
                    },
                }
            };

            // 차트 생성
            const ctx = document.getElementById('donutChart').getContext('2d');
            const donutChart = new Chart(ctx, config);
        }
    
        const donutChart2 = function(){
            // 차트 데이터
            const data = {
                labels: ['만료', '7일 이내', '30일 이내', '90일 이내', '180일 이내'],
                datasets: [{
                    data: [30, 25, 20, 15, 10],
                    backgroundColor: [
                        '#0958D9',
                        '#1677FF',
                        '#4096FF',
                        '#69B1FF',
                        '#69B1FF'
                    ],
                    borderWidth: 2,
                    hoverOffset: 10
                }]
            };

            // 차트 설정
            const config = {
                type: 'doughnut',
                data: data,
                plugins: [ChartDataLabels],
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%', // 도넛 구멍 크기
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                        datalabels: {
                            display: true,
                            color: 'white',
                            font: {
                                size: 14
                            },
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 1500,
                        easing: 'easeInOutQuart'
                    },
                    hover: {
                        animationDuration: 300
                    },
                }
            };

            // 차트 생성
            const ctx = document.getElementById('donutChart2').getContext('2d');
            const donutChart = new Chart(ctx, config);
        }
    
        const donutChart3 = function(){
            // 차트 데이터
            const data = {
                labels: ['양호', '경고', '취약'],
                datasets: [{
                    data: [30, 25, 20],
                    backgroundColor: [
                        '#73D13D',
                        '#FFC53D',
                        '#FF4D4F',
                    ],
                    borderWidth: 2,
                    hoverOffset: 10
                }]
            };

            // 차트 설정
            const config = {
                type: 'doughnut',
                data: data,
                plugins: [ChartDataLabels],
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%', // 도넛 구멍 크기
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                        datalabels: {
                            display: true,
                            color: 'white',
                            font: {
                                size: 14
                            },
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 1500,
                        easing: 'easeInOutQuart'
                    },
                    hover: {
                        animationDuration: 300
                    },
                }
            };

            // 차트 생성
            const ctx = document.getElementById('donutChart3').getContext('2d');
            const donutChart = new Chart(ctx, config);
        }

        const donutChart4 = function(){
            // 차트 데이터
            const data = {
                labels: ['양호', '경고', '취약','해당없음'],
                datasets: [{
                    data: [30, 25, 20, 10],
                    backgroundColor: [
                        '#73D13D',
                        '#FFC53D',
                        '#FF4D4F',
                        '#C1C1C1'
                    ],
                    borderWidth: 2,
                    hoverOffset: 10
                }]
            };

            // 차트 설정
            const config = {
                type: 'doughnut',
                data: data,
                plugins: [ChartDataLabels],
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%', // 도넛 구멍 크기
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                        datalabels: {
                            display: true,
                            color: 'white',
                            font: {
                                size: 14
                            },
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 1500,
                        easing: 'easeInOutQuart'
                    },
                    hover: {
                        animationDuration: 300
                    },
                }
            };

            // 차트 생성
            const ctx = document.getElementById('donutChart4').getContext('2d');
            const donutChart = new Chart(ctx, config);
        }
        
        const donutChart5 = function(){
            // 차트 데이터
            const data = {
                labels: ['정상', '7일이내', '만료','해당없음'],
                datasets: [{
                    data: [30, 25, 20, 10],
                    backgroundColor: [
                        '#73D13D',
                        '#FFC53D',
                        '#FF4D4F',
                        '#C1C1C1'
                    ],
                    borderWidth: 2,
                    hoverOffset: 10
                }]
            };

            // 차트 설정
            const config = {
                type: 'doughnut',
                data: data,
                plugins: [ChartDataLabels],
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%', // 도넛 구멍 크기
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                        datalabels: {
                            display: true,
                            color: 'white',
                            font: {
                                size: 14
                            },
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 1500,
                        easing: 'easeInOutQuart'
                    },
                    hover: {
                        animationDuration: 300
                    },
                }
            };

            // 차트 생성
            const ctx = document.getElementById('donutChart5').getContext('2d');
            const donutChart = new Chart(ctx, config);
        }

        const stackedBarChart1 = function(){
            const ctx = document.getElementById('stackedBarChart').getContext('2d');
            
            // 시스템별 상태 데이터
            const chartData = {
                labels: ['Server', 'Network', 'DBMS', 'Security', 'WEB/WAS'],
                datasets: [
                    {
                        label: '양호',
                        data: [85, 92, 78, 88, 91],
                        backgroundColor: '#73D13D',
                    },
                    {
                        label: '경고',
                        data: [12, 6, 18, 9, 7],
                        backgroundColor: '#FFC53D',
                    },
                    {
                        label: '위험',
                        data: [31, 2, 41, 3, 2],
                        backgroundColor: '#FF4D4F',
                    }
                ]
            };

            const config = {
                type: 'bar',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                    },
                    scales: {
                        x: {
                            stacked: true,
                            grid: {
                                display: false
                            },
                            ticks: {
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            }
                        },
                        y: {
                            stacked: true,
                            beginAtZero: true,
                            max: 250,
                            grid: {
                                color: '#e0e0e0'
                            },
                            ticks: {
                                font: {
                                    size: 12
                                },
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            align: 'start',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                    },
                    animation: {
                        duration: 2000,
                        easing: 'easeInOutQuart'
                    }
                },
                plugins: [{
                    id: 'dataLabels',
                    afterDatasetsDraw: function(chart) {
                        const ctx = chart.ctx;
                        
                        chart.data.datasets.forEach((dataset, datasetIndex) => {
                            const meta = chart.getDatasetMeta(datasetIndex);
                            
                            meta.data.forEach((bar, index) => {
                                const value = dataset.data[index];
                                
                                // 값이 5 이상일 때만 표시 (너무 작은 값은 표시하지 않음)
                                if (value >= 5) {
                                    ctx.save();
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillStyle = '#fff';
                                    ctx.textAlign = 'center';
                                    ctx.textBaseline = 'middle';

                                    const x = bar.x;
                                    // 각 섹션의 높이 중앙 계산
                                    const segmentHeight = bar.height;
                                    const y = bar.y + (segmentHeight / 2);
                                    
                                    ctx.fillText(value, x, y);
                                    ctx.restore();
                                }
                            });
                        });
                    }
                }]
            };

            // 차트 생성
            const stackedBarChart = new Chart(ctx, config);

        }
    
        const barChart1 = function(){
            const ctx = document.getElementById('barChart1').getContext('2d');
            const barChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Server', 'Network', 'DBMS', 'Security', 'WEB/WAS'],
                    datasets: [
                        {
                            label: '양호',
                            data: [150, 120, 200, 180, 160],
                            backgroundColor: '#73D13D',
                        },
                        {
                            label: '경고',
                            data: [80, 100, 60, 90, 70],
                            backgroundColor: '#FFC53D',
                        },
                        {
                            label: '취약',
                            data: [50, 40, 30, 60, 45],
                            backgroundColor: '#FF4D4F',
                        },
                        {
                            label: '해당없음',
                            data: [20, 30, 25, 15, 35],
                            backgroundColor: '#C1C1C1',
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                            align: 'start',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                usePointStyle: true,
                                pointStyle: 'rect',
                                boxWidth: 10,
                                boxHeight: 10
                            }
                        },
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 800,
                            min: 0,
                            ticks: {
                                stepSize: 100
                            }
                        },
                        x: {
                        }
                    },
                    categoryPercentage: 0.6,
                    barPercentage: 0.7
                }
            });
        }
    
        const barChart2 = function(){

            // 차트 설정
            const ctx = document.getElementById('barChart2').getContext('2d');
            let isHorizontal = false;
            
            // 초기 데이터
            const initialData = {
                labels: ['상', '중', '하'],
                datasets: [{
                    data: [85,70,35],
                    backgroundColor: ['rgba(255, 77, 79, 1)','rgba(91, 143, 249, 1)','rgba(115, 209, 61, 1)'],
                }]
            };
            
            // 차트 옵션
            const options = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false // 커스텀 범례 사용
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)',
                            lineWidth: 1
                        },
                        ticks: {
                            color: '#666',
                            font: {
                                size: 12,
                                weight: 'bold'
                            }
                        }
                    },
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)',
                            lineWidth: 1
                        },
                        ticks: {
                            color: '#666',
                            font: {
                                size: 12
                            },
                            display: true // 수치 숨김
                        }
                    }
                },
                animation: {
                    duration: 1000,
                    easing: 'easeOutQuart'
                },
                interaction: {
                    intersect: false
                },
                hover: {
                    animationDuration: 200
                },
                categoryPercentage: 0.5,
                barPercentage: 0.7
            };
            
            // 차트 생성
            let barChart = new Chart(ctx, {
                type: 'bar',
                data: JSON.parse(JSON.stringify(initialData)),
                options: options
            });
        }

        const barChart3 = function(){
            // 차트 설정
            const ctx = document.getElementById('barChart3').getContext('2d');
            let isHorizontal = false;
            
            // 초기 데이터
            const initialData = {
                labels: ['상', '중', '하'],
                datasets: [{
                    data: [85,70,35],
                    backgroundColor: ['rgba(255, 77, 79, 1)','rgba(91, 143, 249, 1)','rgba(115, 209, 61, 1)'],
                }]
            };
            
            // 차트 옵션
            const options = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false // 커스텀 범례 사용
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)',
                            lineWidth: 1
                        },
                        ticks: {
                            color: '#666',
                            font: {
                                size: 12,
                                weight: 'bold'
                            }
                        }
                    },
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)',
                            lineWidth: 1
                        },
                        ticks: {
                            color: '#666',
                            font: {
                                size: 12
                            },
                            display: true // 수치 숨김
                        }
                    }
                },
                animation: {
                    duration: 1000,
                    easing: 'easeOutQuart'
                },
                interaction: {
                    intersect: false
                },
                hover: {
                    animationDuration: 200
                },
                categoryPercentage: 0.5,
                barPercentage: 0.7
            };
            
            // 차트 생성
            let barChart = new Chart(ctx, {
                type: 'bar',
                data: JSON.parse(JSON.stringify(initialData)),
                options: options
            });
        }
        
        const radarChart1 = function(){
            const ctx = document.getElementById('radarChart1').getContext('2d');
            
            const radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['로그 관리', '계정관리', '파일 및 디렉토리 관리', '서비스 관리', '패치 관리'],
                    datasets: [
                        {
                            data: [350, 400, 300, 380, 320],
                            backgroundColor: 'rgba(22, 119, 255, 0.3)',
                            borderColor: '#1677FF',
                            borderWidth: 1,
                            pointRadius: 0,
                            pointHoverRadius: 0
                        },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio:false,
                    plugins: {
                        legend: {
                            display: false,
                        }
                    },
                    scales: {
                        r: {
                            ticks: {
                                display:false
                            },
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            },
                            angleLines: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            }
                        }
                    },
                    elements: {
                        line: {
                            borderWidth: 2
                        },
                        point: {
                            radius: 4,
                            hoverRadius: 6
                        }
                    }
                }
            });
        }
    
        const radarChart2 = function(){
            const ctx = document.getElementById('radarChart2').getContext('2d');
            
            const radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['로그 관리', '계정관리', '파일 및 디렉토리 관리', '서비스 관리', '패치 관리'],
                    datasets: [
                        {
                            data: [350, 400, 300, 380, 320],
                            backgroundColor: 'rgba(22, 119, 255, 0.3)',
                            borderColor: '#1677FF',
                            borderWidth: 1,
                            pointRadius: 0,
                            pointHoverRadius: 0
                        },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio:false,
                    plugins: {
                        legend: {
                            display: false,
                        }
                    },
                    scales: {
                        r: {
                            ticks: {
                                display:false
                            },
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            },
                            angleLines: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            }
                        }
                    },
                    elements: {
                        line: {
                            borderWidth: 2
                        },
                        point: {
                            radius: 4,
                            hoverRadius: 6
                        }
                    }
                }
            });
        }
    
        const radarChart4 = function(){
            const ctx = document.getElementById('radarChart4').getContext('2d');
            
            const radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Label', 'Label', 'Label', 'Label', 'Label'],
                    datasets: [
                        {
                            data: [350, 400, 300, 380, 320],
                            backgroundColor: 'rgba(22, 119, 255, 0.3)',
                            borderColor: '#1677FF',
                            borderWidth: 1,
                            pointRadius: 0,
                            pointHoverRadius: 0
                        },
                        {
                            data: [30, 100, 200, 150, 250],
                            backgroundColor: 'rgba(160, 217, 17, 0.3)',
                            borderColor: 'rgba(160, 217, 17, 1)',
                            borderWidth: 1,
                            pointRadius: 0,
                            pointHoverRadius: 0
                        },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio:false,
                    plugins: {
                        legend: {
                            display: false,
                        }
                    },
                    scales: {
                        r: {
                            ticks: {
                                display:false
                            },
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            },
                            angleLines: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            }
                        }
                    },
                    elements: {
                        line: {
                            borderWidth: 2
                        },
                        point: {
                            radius: 4,
                            hoverRadius: 6
                        }
                    }
                }
            });
        }
    
        const radarChart5 = function(){
            const ctx = document.getElementById('radarChart5').getContext('2d');
            
            const radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Label', 'Label', 'Label', 'Label', 'Label'],
                    datasets: [
                        {
                            data: [350, 400, 300, 380, 320],
                            backgroundColor: 'rgba(22, 119, 255, 0.3)',
                            borderColor: '#1677FF',
                            borderWidth: 1,
                            pointRadius: 0,
                            pointHoverRadius: 0
                        },
                        {
                            data: [30, 100, 200, 150, 250],
                            backgroundColor: 'rgba(160, 217, 17, 0.3)',
                            borderColor: 'rgba(160, 217, 17, 1)',
                            borderWidth: 1,
                            pointRadius: 0,
                            pointHoverRadius: 0
                        },
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio:false,
                    plugins: {
                        legend: {
                            display: false,
                        }
                    },
                    scales: {
                        r: {
                            ticks: {
                                display:false
                            },
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            },
                            angleLines: {
                                color: 'rgba(200, 200, 200, 0.3)'
                            }
                        }
                    },
                    elements: {
                        line: {
                            borderWidth: 2
                        },
                        point: {
                            radius: 4,
                            hoverRadius: 6
                        }
                    }
                }
            });
        }
    </script>
    <!-- //차트 플러그인 불러오기 -->
</body>
</html>
